---
title: 기적의 매매법(백준 20546번)
date: 2024-04-19 00:00:00 +09:00
categories: [PS(Baekjoon), Implementation]
use_math: true
tags:
  [
    PS(Baekjoon),
    Python,
    Implementation
  ]
pin: false
---

<aside>
💡 **Check Point !**

( 해당사항 ✓체크 )

1. 막힘 없이 수월하게 풀린 문제인가? ✓

2. 1시간이내로 풀렸던 문제인가?

3. 1시간 이상 or 며칠을 두고 풀어봤더니 풀린 문제인가?

4. 시간을 써도 도무지 풀 수 없는 문제인가?

5. 솔루션을 찾아봤는가?

---

난이도 체감

1. 최상

2. 상

3. 중

4. 하✓

---

<이해도>

1. 완벽히 이해✓

2. 다소 헷갈리는 부분들이 있음

3. 이해 못함

</aside>

### 문제

"오늘도 호재만 있게 해주세요. 버핏-"

2년차 개미 준현이는 오늘도 버핏신에게 기도를 올린다. 장기 투자를 지향하는 준현이는 한 번 산 주식은 절대 팔지 않는다. 2099년이 되어도 주식을 팔지 않을 것이다. 주식 매수 후 오로지 기도만 하기 때문에 이를 BNP 전략이라고 한다. BNP는 Buy and Pray의 약자이다. 준현이는 주식을 살 수 있다면 무조건 최대한 많이 산다. 준현이는 욕심쟁이이기 때문에, 주식을 살 수 있다면 가능한 만큼 즉시 매수한다. 다음은 준현이가 현금 100원으로 A기업의 주식을 사는 경우이다.

|  | 1일 | 2일 | 3일 | 4일 | 5일 | 6일 | 7일 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 현금 | 100 | 20 | 20 | 6 | 0 | 0 | 0 |
| 주가 | 40 | 33 | 7 | 2 | 1 | 12 | 50 |
| 매수 가능 주식 수 | 2 | 0 | 2 | 3 | 0 | 0 | 0 |
| 매수여부 | O | X | O | O | X | X | X |
| 남은 현금 | 20 | 20 | 6 | 0 | 0 | 0 | 0 |
| 보유 주식 수 | 2 | 2 | 4 | 7 | 7 | 7 | 7 |

"주식은 타이밍이지!"

반면, 성민이는 오늘도 주식 거래 프로그램을 실행한다. 모니터 8개에서 뿜어져 나오는 화려한 주식 차트가 성민이를 감싼다. 성민이는 주식이 타이밍 싸움이라 생각한다. 전형적인 단기 투자자로 생각하면 오산이다. 성민이만의 전략이 있기 때문이다. 이른바 33 매매법으로, 그 방법은 다음의 세 가지 룰로 이루어져있다.

- 모든 거래는 전량 매수와 전량 매도로 이루어진다. 현재 가지고 있는 현금이 100원이고 주가가 11원이라면 99원어치의 주식을 매수하는 것이다. 단, 현금이 100원 있고 주가가 101원이라면 주식을 살 수 없다. 성민이는 빚을 내서 주식을 하지는 않는다.
- 3일 연속 가격이 전일 대비 상승하는 주식은 다음날 무조건 가격이 하락한다고 가정한다. 따라서 현재 소유한 주식의 가격이 3일째 상승한다면, 전량 매도한다. 전일과 오늘의 주가가 동일하다면 가격이 상승한 것이 아니다.
- 3일 연속 가격이 전일 대비 하락하는 주식은 다음날 무조건 가격이 상승한다고 가정한다. 따라서 이러한 경향이 나타나면 즉시 주식을 전량 매수한다. 전일과 오늘의 주가가 동일하다면 가격이 하락한 것이 아니다.

준현이와 성민이는 각자의 매매법 중 어떤 방법이 더 수익률이 높은지 겨뤄보기로 했다. 오로지 MachineDuck이라는 기업의 주식만 거래가 가능하며, 내기 기간은 2021년 1월 1일부터 2021년 1월 14일까지이다. 준현이와 성민이에게 주어진 현금은 동일하다. 세기의 대결이기 때문에 이 기간에는 매일 주식 거래가 가능하다. 2021년 1월 14일에 더 많은 자산을 보유한 사람이 승리한다. 1월 14일의 자산은 (현금 + 1월 14일의 주가 × 주식 수)로 계산한다.

우리는 2021년 1월 1일부터 2021년 1월 14일까지의 주식 가격을 미리 알고 있다. 준현이와 성민이 중 누가 더 높은 수익률을 낼지 맞혀보자!

![Untitled](https://github.com/gihuni99/gihuni99.github.io/assets/90080065/bdadce88-a9bf-4ba9-b97a-56f505a0e0bc)

## 나의 풀이

```python
money=int(input())
chart=list(map(int,input().split()))

J=[money,0]
S=[money,0]
down=0
up=0
for day in range(len(chart)):
    c=chart[day]
    if J[0]>=c:
        J[1]+=J[0]//c
        J[0]=J[0]%c
    if day==0:
        continue
    if chart[day-1]>chart[day]:
        down+=1
        up=0
    elif chart[day-1]<chart[day]:
        up+=1
        down=0
    else:
        up=0
        down=0
    if down>2 and S[0]>=c:
        S[1]+=S[0]//c
        S[0]=S[0]%c
    elif up>2:
        S[0]+=S[1]*c
        S[1]=0
if J[0]+J[1]*chart[-1]>S[0]+S[1]*chart[-1]:
    print('BNP')
elif J[0]+J[1]*chart[-1]<S[0]+S[1]*chart[-1]:
    print('TIMING')
else:
    print('SAMESAME')
```

- 3일 연속 상승 또는 하락 여부를 유지하고, 조건이 만족했을 때, 주가보다 갖은 돈이 더 많다면 매수가 가능하게 하고, 매도는 항상 가능하게 하였다.
- 각 조건을 세세하게 따져보는 것이 중요했다.
